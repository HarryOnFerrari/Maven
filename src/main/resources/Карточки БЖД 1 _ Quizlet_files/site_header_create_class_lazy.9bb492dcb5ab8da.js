(window.QJP=window.QJP||[]).push([["site_header_create_class_lazy"],{"+KBN":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("nrsj"),s=n("YswG");function o(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=r.a);var o=[e.city];if("us"===e.countryCode)o.push(e.state);else if(e.countryCode){var a=Object(s.a)(e.countryCode,n);o.push(a)}var i=o.join(", ");return t?[e.name,i].join(" · "):i}},"+L51":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("RVJv");class s extends r.a{}s.URL_BASE="class-sets",s.MODEL_NAME="classSet",s.UNIQUE_KEYS=["setId","classId"]},"+vdM":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),s=n.n(r),o=(n("zKZe"),n("vlgG")),a=n("QLaP"),i=n.n(a),l=n("q1tI"),c=n.n(l),u=n("1h/R"),d=n.n(u);class h extends c.a.Component{renderInputComponent(e){return c.a.createElement(o.a,e)}render(){var e=Object.assign({},this.props.inputAttributes,{onChange:this.props.onInputChange,value:this.props.inputValue});return c.a.createElement("div",{className:"UIAutosuggest"},c.a.createElement(d.a,s()({ref:e=>{this.autosuggest=e},renderInputComponent:this.renderInputComponent},this.props,{getSuggestionValue:this.props.getSuggestionValueForInput,inputProps:e,onSuggestionsClearRequested:this.props.onSuggestionsClearRequested,onSuggestionsFetchRequested:this.props.onSuggestionsFetchRequested,suggestions:this.props.suggestions})))}focus(){i()(this.autosuggest,"Missing autosuggest during focus() in UIAutosuggest"),this.autosuggest.input.focus()}}},"0Zpe":function(e,t,n){"use strict";n.r(t)},"0w8C":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={af:"Afghanistan",al:"Albania",dz:"Algeria",as:"American Samoa",ad:"Andorra",ao:"Angola",ai:"Anguilla",aq:"Antarctica",ag:"Antigua and Barbuda",ar:"Argentina",am:"Armenia",aw:"Aruba",au:"Australia",at:"Austria",az:"Azerbaijan",bs:"Bahamas",bh:"Bahrain",bd:"Bangladesh",bb:"Barbados",by:"Belarus",be:"Belgium",bz:"Belize",bj:"Benin",bm:"Bermuda",bt:"Bhutan",bo:"Bolivia",bq:"Bonaire, Sint Eustatius and Saba",ba:"Bosnia and Herzegovina",bw:"Botswana",bv:"Bouvet Island",br:"Brazil",io:"British Indian Ocean Territory",bn:"Brunei Darussalam",bg:"Bulgaria",bf:"Burkina Faso",bi:"Burundi",kh:"Cambodia",cm:"Cameroon",ca:"Canada",cv:"Cape Verde",ky:"Cayman Islands",cf:"Central African Republic",td:"Chad",cl:"Chile",cn:"China",cx:"Christmas Island",cc:"Cocos (Keeling) Islands",co:"Colombia",km:"Comoros",cg:"Congo",cd:"Congo (Democratic Republic of the)",ck:"Cook Islands",cr:"Costa Rica",hr:"Croatia",cu:"Cuba",cw:"Curaçao",cy:"Cyprus",cz:"Czech Republic",ci:"Côte d'Ivoire",dk:"Denmark",dj:"Djibouti",dm:"Dominica",do:"Dominican Republic",ec:"Ecuador",eg:"Egypt",sv:"El Salvador",gq:"Equatorial Guinea",er:"Eritrea",ee:"Estonia",et:"Ethiopia",fk:"Falkland Islands (Malvinas)",fo:"Faroe Islands",fj:"Fiji",fi:"Finland",fr:"France",gf:"French Guiana",pf:"French Polynesia",tf:"French Southern Territories",ga:"Gabon",gm:"Gambia",ge:"Georgia",de:"Germany",gh:"Ghana",gi:"Gibraltar",gr:"Greece",gl:"Greenland",gd:"Grenada",gp:"Guadeloupe",gu:"Guam",gt:"Guatemala",gg:"Guernsey",gn:"Guinea",gw:"Guinea-Bissau",gy:"Guyana",ht:"Haiti",hm:"Heard Island and McDonald Islands",va:"Holy See",hn:"Honduras",hk:"Hong Kong",hu:"Hungary",is:"Iceland",in:"India",id:"Indonesia",ir:"Iran",iq:"Iraq",ie:"Ireland",im:"Isle of Man",il:"Israel",it:"Italy",jm:"Jamaica",jp:"Japan",je:"Jersey",jo:"Jordan",kz:"Kazakhstan",ke:"Kenya",ki:"Kiribati",kp:"Korea (Democratic People's Republic of)",kr:"Korea (Republic of)",xk:"Kosovo",kw:"Kuwait",kg:"Kyrgyzstan",la:"Lao People's Democratic Republic",lv:"Latvia",lb:"Lebanon",ls:"Lesotho",lr:"Liberia",ly:"Libya",li:"Liechtenstein",lt:"Lithuania",lu:"Luxembourg",mo:"Macao",mk:"Macedonia",mg:"Madagascar",mw:"Malawi",my:"Malaysia",mv:"Maldives",ml:"Mali",mt:"Malta",mh:"Marshall Islands",mq:"Martinique",mr:"Mauritania",mu:"Mauritius",yt:"Mayotte",mx:"Mexico",fm:"Micronesia",md:"Moldova",mc:"Monaco",mn:"Mongolia",me:"Montenegro",ms:"Montserrat",ma:"Morocco",mz:"Mozambique",mm:"Myanmar",na:"Namibia",nr:"Nauru",np:"Nepal",nl:"Netherlands",an:"Netherlands Antilles",nc:"New Caledonia",nz:"New Zealand",ni:"Nicaragua",ne:"Niger",ng:"Nigeria",nu:"Niue",nf:"Norfolk Island",mp:"Northern Mariana Islands",no:"Norway",om:"Oman",pk:"Pakistan",pw:"Palau",ps:"Palestine",pa:"Panama",pg:"Papua New Guinea",py:"Paraguay",pe:"Peru",ph:"Philippines",pn:"Pitcairn",pl:"Poland",pt:"Portugal",pr:"Puerto Rico",qa:"Qatar",ro:"Romania",ru:"Russia",rw:"Rwanda",re:"Réunion",bl:"Saint Barthélemy",sh:"Saint Helena",kn:"Saint Kitts and Nevis",lc:"Saint Lucia",mf:"Saint-Martin (FR)",pm:"Saint Pierre and Miquelon",vc:"Saint Vincent and the Grenadines",ws:"Samoa",sm:"San Marino",st:"Sao Tome and Principe",sa:"Saudi Arabia",sn:"Senegal",rs:"Serbia",cs:"Serbia and Montenegro",sc:"Seychelles",sl:"Sierra Leone",sg:"Singapore",sx:"Sint Maarten (NL)",sk:"Slovakia",si:"Slovenia",sb:"Solomon Islands",so:"Somalia",za:"South Africa",gs:"South Georgia and the South Sandwich Islands",ss:"South Sudan",es:"Spain",lk:"Sri Lanka",sd:"Sudan",sr:"Suriname",sj:"Svalbard and Jan Mayen",sz:"Swaziland",se:"Sweden",ch:"Switzerland",sy:"Syrian Arab Republic",tw:"Taiwan",tj:"Tajikistan",tz:"Tanzania",th:"Thailand",tl:"Timor-Leste",tg:"Togo",tk:"Tokelau",to:"Tonga",tt:"Trinidad and Tobago",tn:"Tunisia",tr:"Turkey",tm:"Turkmenistan",tc:"Turks and Caicos Islands",tv:"Tuvalu",ug:"Uganda",ua:"Ukraine",ae:"United Arab Emirates",gb:"United Kingdom",us:"United States",um:"United States Minor Outlying Islands",uy:"Uruguay",uz:"Uzbekistan",vu:"Vanuatu",ve:"Venezuela",vn:"Viet Nam",vg:"Virgin Islands (British)",vi:"Virgin Islands (U.S.)",wf:"Wallis and Futuna",eh:"Western Sahara",ye:"Yemen",zm:"Zambia",zw:"Zimbabwe",ax:"Åland Islands"}},"1h/R":function(e,t,n){"use strict";e.exports=n("Cg+p").default},"2CL2":function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return se}));var r,s=n("8OQS"),o=n.n(s),a=(n("4mDm"),n("3bBZ"),n("baRz")),i=n("RPnR"),l=n("qqKc"),c=n("uaVy"),u=n("pVnL"),d=n.n(u),h=n("DzJC"),g=n.n(h),p=n("QVEU"),m=n.n(p),f=(n("zKZe"),n("r7gd")),S=n("XqD+"),v=n("xkGD"),b=n("47mV"),y=n("GCXI"),C=n("WN4I"),I=n("9WHe"),w=n("uyLA"),_=n("q1tI"),E=n.n(_),O=n("+KBN"),k=n("jgp3"),j=n("6JjY"),x=Object(a.styled)("div")({name:"FauxSuggestion",class:"f189jzco"}),A=Object(a.styled)("p")({name:"SchoolName",class:"st2khe"}),P=Object(a.styled)("p")({name:"SchoolLocation",class:"sf4g3zi"}),M=Object(a.styled)("div")({name:"SchoolContainer",class:"s1u9yj97",vars:{"s1u9yj97-0":[e=>e.isHighlighted?f.j.Ink200Neutral400:f.j.Ink100Neutral400]}}),R=Object(a.styled)("div")({name:"AddNewSchoolPrompt",class:"avu1ef"}),N=Object(a.styled)("div")({name:"AddNewSchoolButtonWrapper",class:"a10agjk5"}),T=10,F=0;function D(e){var{initialValue:t,inputAttributes:n,numSuggestionsToShow:s=T,onBlurSchool:o,onSelectAddSchool:a,onSelectSchool:i,useAutoFocus:c,label:u}=e,{logEvent:h,logPageAction:p}=Object(v.b)(),f={loggers:{logEvent:h,logPageAction:p}},{t:D}=Object(w.a)(),[q,z]=Object(_.useState)(!1),[L,H]=Object(_.useState)(t||""),[U,V]=Object(_.useState)([]),B=Object(_.useRef)(null),G=Object(_.useCallback)(g()((e=>{var{value:t}=e;Object(S.d)("/webapi/3.4/schools/search",{params:{query:t,perPage:s}}).then((e=>{var{models:t,scores:n}=e.body.responses[0];r=m()(n,"id"),V(t.school),F=0})).catch((e=>I.a.error("Error retrieving schools.",e)))}),300,{trailing:!0}),[]),K=()=>{k.a.logSelectAddOwnSchool(f),a(L)},W=Object.assign({placeholder:D("global.school_autosuggest.input.placeholder"),autoFocus:c,onFocus:()=>z(!0)},n);return E.a.createElement("div",null,E.a.createElement(b.a,{getSuggestionValueForInput:e=>e.name,inputAttributes:W,inputValue:q?L:"",label:u,onInputBlur:e=>{o&&o(e),z(!1)},onInputChange:(e,t)=>{var{newValue:n}=t;H(n)},onSuggestionsClearRequested:()=>{V([])},onSuggestionSelected:(e,t)=>{k.a.logSelectSuggestion(C.a.events.HIT_SELECT_SCHOOL,t.suggestion.id,C.a.targetTypes.SCHOOL,t.suggestionIndex,f),i&&i(e,t)},onSuggestionsFetchRequested:G,ref:B,renderSuggestion:(e,t)=>{var{isHighlighted:n}=t;return E.a.createElement(j.a,{key:e.id,once:!0,onIntersect:()=>((e,t)=>{var n;k.a.logSearchImpression({modelId:e.id,modelType:y.L.SCHOOL,pageDepth:F++,pageNumber:1,relevanceScore:(n=e.id,r[n]&&r[n].score||0),purchasableType:y.X.FREE},t)})(e,f),threshold:.5},(()=>E.a.createElement(M,{isHighlighted:n},E.a.createElement(A,null,e.name),E.a.createElement(P,null,Object(O.a)(e,!1,D)))))},renderSuggestionsContainer:e=>{var n,r,{children:s,containerProps:o}=e,a=""+o.className;return E.a.createElement("div",d()({},o,{className:a,style:{top:48,zIndex:100}}),s,L.length>3&&L!==t&&null!=B&&null!=(n=B.current)&&null!=(r=n.autosuggest)&&r.state.isFocused?E.a.createElement(x,null,E.a.createElement(R,null,D("global.school_autosuggest.add_new_school_prompt")),E.a.createElement(N,null,E.a.createElement(l.d,{onClick:K,text:D("global.school_autosuggest.add_new_school_button")}))):null)},suggestions:U}))}n("Ajan");var q=n("a4W4"),z=n("7wDT"),L=n("0w8C"),H=n("FQIS"),U=n("YswG"),V=["validationErrors"],B=Object(a.styled)("div")({name:"FormField",class:"fkj582r"}),G=Object(a.styled)("div")({name:"LocationWrapper",class:"l1owmc7n"}),K=Object(a.styled)("label")({name:"CountryWrapper",class:"c19h5f5b"}),W=Object(a.styled)(K)({name:"StateWrapper",class:"sfwevtf"}),Q=Object(a.styled)("span")({name:"DropdownHeading",class:"dgwbqep"}),J=Object(a.styled)("select")({name:"DropdownInput",class:"d15dqdef"}),Y=Object(a.styled)("div")({name:"DropdownIcon",class:"d1i3drgl"});function Z(e){var{validationErrors:t={}}=e,n=o()(e,V),{t:r}=Object(w.a)(),s="us"===n.school.countryCode,a=e=>{if(e in t)return!0},i=e=>a(e)?t[e]:null;return E.a.createElement("div",null,E.a.createElement(B,null,E.a.createElement(z.a,{invalid:a("name"),label:i("name")||r("global.school_creator.fields.name.label"),onChange:n.onUpdateName,placeholder:r("global.school_creator.fields.name.placeholder"),value:n.school.name})),E.a.createElement(B,null,E.a.createElement(z.a,{invalid:a("city"),label:i("city")||r("global.school_creator.fields.city.label"),onChange:n.onUpdateCity,placeholder:r("global.school_creator.fields.city.placeholder"),value:n.school.city})),E.a.createElement(G,null,E.a.createElement(K,null,E.a.createElement(Q,null,r("global.school_creator.fields.country.label")),E.a.createElement(J,{onChange:n.onUpdateCountryCode,value:n.school.countryCode},Object.keys(L.a).map((e=>E.a.createElement("option",{key:e,value:e},Object(U.a)(e,r))))),E.a.createElement(Y,null,E.a.createElement(q.b,{alt:"country",icon:"chevron-down",size:q.a.Small}))),s?E.a.createElement(W,null,E.a.createElement(Q,null,r("global.school_creator.fields.state.label")),E.a.createElement(J,{onChange:n.onUpdateState,value:n.school.state},E.a.createElement("option",{disabled:!0,value:""},r("global.school_creator.fields.state.select_prompt")),Object.keys(H.a).map((e=>E.a.createElement("option",{key:e,value:e},H.a[e])))),E.a.createElement(Y,null,E.a.createElement(q.b,{alt:"state",icon:"chevron-down",size:q.a.Small}))):null))}n("QNYG");var X,$=n("Ri2w"),ee=["removeVariant","validationErrors"],te=Object(a.styled)("div")({name:"RemoveSchooolAssemblyLink",class:"r1lhaaik"}),ne=Object(a.styled)("span")({name:"SchoolLocation",class:"sc0teab"}),re=Object(a.styled)("div")({name:"SelectExistingSchoolWrapper",class:"s1l2crs1"});function se(e){var t,n,{removeVariant:r=X.text,validationErrors:s={}}=e,a=o()(e,ee),{t:u}=Object(w.a)(),[d,h]=Object(_.useState)(!1),g=()=>0===a.schools.size,p=()=>!a.isAddingNewSchool&&(g()||d),m=()=>a.schools.first(),f=()=>{a.onClickSelectAnotherSchoolPrompt(),h(!0)},S=(e,t)=>{var{suggestion:n}=t;a.onSelectAnotherSchool(n)},v=e=>{var t=r===X.text?u("global.school_selector.remove_school"):void 0,n=r===X.text?void 0:"x";return E.a.createElement(te,{className:n?"rkmuzu7":void 0},E.a.createElement(i.b,{linkTo:"#",onClick:t=>{t.preventDefault(),(e=>{a.preventRemoval?a.onRemoveSchool(e):Object($.d)("/schools/unassociate",{schoolId:e.id}).then((t=>{null!=t&&t.success&&a.onRemoveSchool(e)}))})(e)},rightIcon:n,text:t,variant:i.a.Secondary}))};return E.a.createElement("div",{className:"SchoolSelector"},a.isAddingNewSchool?E.a.createElement("div",{className:"SchoolSelector-schoolCreate"},a.newSchool?E.a.createElement("div",null,E.a.createElement(Z,{onUpdateCity:e=>a.onUpdateNewSchoolField("city",e.target.value),onUpdateCountryCode:e=>a.onUpdateNewSchoolField("countryCode",e.target.value),onUpdateName:e=>a.onUpdateNewSchoolField("name",e.target.value),onUpdateState:e=>a.onUpdateNewSchoolField("state",e.target.value),school:a.newSchool,validationErrors:s})):null,E.a.createElement(re,null,E.a.createElement(l.f,{onClick:f,text:u("global.school_selector.select_another_school_prompt"),variant:c.d.LINK}))):null,p()?(()=>{var e=m(),{label:t}=a,n=(()=>{var{tooltip:e}=a;return e?{tooltipText:e}:void 0})();return E.a.createElement("div",{className:""},E.a.createElement("div",null,E.a.createElement(D,{initialValue:null==e?void 0:e.name,inputAttributes:{contextualInfo:n,placeholder:t},label:t,numSuggestionsToShow:5,onSelectAddSchool:a.onSelectAddSchool,onSelectSchool:S,useAutoFocus:!g()})))})():null,p()||a.isAddingNewSchool?null:(n=m(),E.a.createElement("div",{className:"SchoolSelector-schoolOptions"},(t=n,E.a.createElement("div",{className:"AssemblyInput AssemblyInput--active"},E.a.createElement("span",{className:"AssemblyInput-heading"},a.label),E.a.createElement(ne,null,Object(O.a)(t,!0,u),v(t)))))))}!function(e){e.icon="icon",e.text="text"}(X||(X={})),n("0Zpe")},"3JpL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(s)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o,a=n("LyY/"),i=(o=a)&&o.__esModule?o:{default:o},l=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=r(t,2),o=n[0],a=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=n.map((function(e){return o[e]})).filter(l);return"string"==typeof c[0]||"function"==typeof a?{key:e,className:a?a.apply(void 0,s(c)):c.join(" ")}:{key:e,style:i.default.apply(void 0,[{}].concat(s(c)))}}},e.exports=t.default},"47mV":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),s=n.n(r),o=(n("4mDm"),n("3bBZ"),n("zKZe"),n("7wDT")),a=n("QLaP"),i=n.n(a),l=n("q1tI"),c=n.n(l),u=n("1h/R"),d=n.n(u);class h extends c.a.Component{constructor(){super(...arguments),this.renderInputComponent=e=>{var t=c.a.createRef();return c.a.createElement(o.a,s()({ref:t},e,{label:e.label}))}}render(){var e=Object.assign({},this.props.inputAttributes,{onBlur:this.props.onInputBlur,onChange:this.props.onInputChange,value:this.props.inputValue,label:this.props.label,placeholder:this.props.placeholder||this.props.label});return c.a.createElement("div",{className:"UIAutosuggest"},c.a.createElement(d.a,s()({ref:e=>{this.autosuggest=e},renderInputComponent:this.renderInputComponent},this.props,{getSuggestionValue:this.props.getSuggestionValueForInput,inputProps:e,onSuggestionsClearRequested:this.props.onSuggestionsClearRequested,onSuggestionsFetchRequested:this.props.onSuggestionsFetchRequested,suggestions:this.props.suggestions})))}focus(){var e;i()(this.autosuggest,"Missing autosuggest during focus() in AutosuggestWithAssembly"),null==(e=this.autosuggest.input)||e.focus()}}},"4yO7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},"5jMn":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("RVJv");class s extends r.a{}s.URL_BASE="classes",s.MODEL_NAME="class"},A69X:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(s)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.exports=function(e){var t=e.data,n=e.multiSection;function s(e){var s=r(e,2),o=s[0],a=s[1];return n?null===a||a===t[o]-1?null===(o=function(e){for(null===e?e=0:e++;e<t.length&&0===t[e];)e++;return e===t.length?null:e}(o))?[null,null]:[o,0]:[o,a+1]:0===t||a===t-1?[null,null]:null===a?[null,0]:[null,a+1]}return{next:s,prev:function(e){var s=r(e,2),o=s[0],a=s[1];return n?null===a||0===a?null===(o=function(e){for(null===e?e=t.length-1:e--;e>=0&&0===t[e];)e--;return-1===e?null:e}(o))?[null,null]:[o,t[o]-1]:[o,a-1]:0===t||0===a?[null,null]:null===a?[null,t-1]:[null,a-1]},isLast:function(e){return null===s(e)[1]}}}},Ajan:function(e,t,n){"use strict";n.r(t)},"Cg+p":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=d(o),i=d(n("17x9")),l=d(n("wrOu")),c=d(n("svsH")),u=n("4yO7");function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){return!0},g=function(e){function t(e){var n=e.alwaysRenderSuggestions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return p.call(r),r.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r.justMouseEntered=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,l.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&!1===this.justMouseEntered&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions():this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.suggestions,s=n.onSuggestionHighlighted,o=n.highlightFirstSuggestion;if(!(0,l.default)(r,e.suggestions)&&r.length>0&&o)this.highlightFirstSuggestion();else if(s){var a=this.getHighlightedSuggestion();a!=t.highlightedSuggestion&&s({suggestion:a})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){var r=this;this.setState((function(s){var o=s.valueBeforeUpDown;return null===t?o=null:null===o&&void 0!==n&&(o=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,highlightedSuggestion:null===t?null:r.getSuggestion(e,t),valueBeforeUpDown:o}}))}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState((function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:e?null:n}}))}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,r=n.suggestions,s=n.multiSection,o=n.getSectionSuggestions;return s?o(r[e])[t]:r[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var r=this.props.inputProps,s=r.value,o=r.onChange;t!==s&&o(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,r=e.shouldRenderSuggestions,s=n.value;return t.length>0&&r(s)}},{key:"getQuery",value:function(){var e=this.props.inputProps.value,t=this.state.valueBeforeUpDown;return(null===t?e:t).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,s=t.renderInputComponent,o=t.onSuggestionsFetchRequested,i=t.renderSuggestion,l=t.inputProps,d=t.multiSection,g=t.renderSectionTitle,p=t.id,m=t.getSectionSuggestions,f=t.theme,S=t.getSuggestionValue,v=t.alwaysRenderSuggestions,b=t.highlightFirstSuggestion,y=this.state,C=y.isFocused,I=y.isCollapsed,w=y.highlightedSectionIndex,_=y.highlightedSuggestionIndex,E=y.valueBeforeUpDown,O=v?h:this.props.shouldRenderSuggestions,k=l.value,j=l.onFocus,x=l.onKeyDown,A=this.willRenderSuggestions(this.props),P=v||C&&!I&&A,M=P?n:[],R=r({},l,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=O(k);e.setState({isFocused:!0,isCollapsed:!n}),j&&j(t),n&&o({value:k,reason:"input-focused"})}},onBlur:function(t){e.justClickedOnSuggestionsContainer?e.input.focus():(e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested()))},onChange:function(t){var n=t.target.value,s=O(n);e.maybeCallOnChange(t,n,"type"),e.setState(r({},b?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!s})),s?o({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,r){var s=t.keyCode;switch(s){case 40:case 38:if(I)O(k)&&(o({value:k,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var a=r.newHighlightedSectionIndex,i=r.newHighlightedItemIndex,l=void 0;l=null===i?null===E?k:E:e.getSuggestionValueByIndex(a,i),e.updateHighlightedSuggestion(a,i,k),e.maybeCallOnChange(t,l,40===s?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout((function(){e.justPressedUpDown=!1}));break;case 13:if(229===t.keyCode)break;var c=e.getHighlightedSuggestion();if(P&&!v&&e.closeSuggestions(),null!=c){var u=S(c);e.maybeCallOnChange(t,u,"enter"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:u,suggestionIndex:_,sectionIndex:w,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout((function(){e.justSelectedSuggestion=!1}))}break;case 27:P&&t.preventDefault();var d=P&&!v;if(null===E){if(!d){e.maybeCallOnChange(t,"","escape"),O("")?o({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,E,"escape");d?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}x&&x(t)}}),N={query:this.getQuery()};return a.default.createElement(c.default,{multiSection:d,items:M,renderInputComponent:s,renderItemsContainer:this.renderSuggestionsContainer,renderItem:i,renderItemData:N,renderSectionTitle:g,getSectionItems:m,highlightedSectionIndex:w,highlightedItemIndex:_,inputProps:R,itemProps:this.itemProps,theme:(0,u.mapToAutowhateverTheme)(f),id:p,ref:this.storeAutowhateverRef})}}]),t}(o.Component);g.propTypes={suggestions:i.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){var n=e[t];if("function"!=typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:i.default.func,onSuggestionHighlighted:i.default.func,renderInputComponent:i.default.func,renderSuggestionsContainer:i.default.func,getSuggestionValue:i.default.func.isRequired,renderSuggestion:i.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:i.default.func,alwaysRenderSuggestions:i.default.bool,multiSection:i.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:i.default.bool,highlightFirstSuggestion:i.default.bool,theme:i.default.object,id:i.default.string},g.defaultProps={renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return a.default.createElement("div",t,n)},shouldRenderSuggestions:function(e){return e.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:u.defaultTheme,id:"1"};var p=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var r=n.sectionIndex,s=n.itemIndex;e.updateHighlightedSuggestion(r,s),e.justMouseEntered=!0,setTimeout((function(){e.justMouseEntered=!1}))},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onSuggestionMouseDown=function(){e.justSelectedSuggestion=!0},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var r=e.props,s=r.alwaysRenderSuggestions,o=r.onSuggestionSelected,a=r.onSuggestionsFetchRequested;o&&o(t,n),s?a({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,r=n.alwaysRenderSuggestions,s=n.focusInputOnSuggestionClick,o=e.getSuggestionIndices(e.findSuggestionElement(t.target)),a=o.sectionIndex,i=o.suggestionIndex,l=e.getSuggestion(a,i),c=e.props.getSuggestionValue(l);e.maybeCallOnChange(t,c,"click"),e.onSuggestionSelected(t,{suggestion:l,suggestionValue:c,suggestionIndex:i,sectionIndex:a,method:"click"}),r||e.closeSuggestions(),!0===s?e.input.focus():e.onBlur(),setTimeout((function(){e.justSelectedSuggestion=!1}))},this.onBlur=function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,s=n.value,o=n.onBlur,a=e.getHighlightedSuggestion(),i=r(s);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!i}),o&&o(e.blurEvent,{highlightedSuggestion:a})},this.resetHighlightedSuggestionOnMouseLeave=function(){e.resetHighlightedSuggestion(!1)},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.resetHighlightedSuggestionOnMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionMouseDown,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})}};t.default=g},FQIS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"}},"LyY/":function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter((function(t){return r.call(e,t)}))}e.exports=Object.assign||function(e,t){for(var n,r,a=s(e),i=1;i<arguments.length;i++){n=arguments[i],r=o(Object(n));for(var l=0;l<r.length;l++)a[r[l]]=n[r[l]]}return a}},QNYG:function(e,t,n){"use strict";n.r(t)},QzJr:function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return G}));n("4mDm"),n("3bBZ");var r=n("Uudg"),s=n("S41V"),o=n("Ahwr"),a=n("8DN3"),i=n("vlgG"),l=n("OpqZ"),c=n("0w8C"),u=n("FQIS"),d=n("YswG"),h=n("uyLA"),g=n("q1tI"),p=n.n(g);function m(e){var t,{onUpdateCity:n,onUpdateCountryCode:g,onUpdateName:m,onUpdateState:f,school:S,validationErrors:v={}}=e,{t:b}=Object(h.a)(),y=e=>{if(e in v)return!0},C=e=>y(e)?v[e]:null,I=()=>Object.keys(u.a).map((e=>p.a.createElement("option",{key:e,value:e},u.a[e]))),w="us"===S.countryCode;return p.a.createElement("div",{className:"SchoolCreator"},p.a.createElement(a.a,null,p.a.createElement(i.a,{invalid:y("name"),label:C("name")||p.a.createElement(r.a,{id:"global.school_creator.fields.name.label"}),onChange:m,placeholder:b("global.school_creator.fields.name.placeholder"),value:S.name}),p.a.createElement(i.a,{invalid:y("city"),label:C("city")||p.a.createElement(r.a,{id:"global.school_creator.fields.city.label"}),onChange:n,placeholder:b("global.school_creator.fields.city.placeholder"),value:S.city}),p.a.createElement(l.a,null,w?p.a.createElement(s.a,{width:.5},p.a.createElement(o.a,{onChange:f,value:S.state,width:"fill"},p.a.createElement("option",{disabled:!0,value:""},b("global.school_creator.fields.state.select_prompt")),I())):null,(t=w?.5:1,p.a.createElement(s.a,{width:t},p.a.createElement(o.a,{onChange:g,value:S.countryCode,width:"fill"},Object.keys(c.a).map((e=>p.a.createElement("option",{key:e,value:e},Object(d.a)(e,b))))))))))}var f,S=n("pVnL"),v=n.n(S),b=n("DzJC"),y=n.n(b),C=n("QVEU"),I=n.n(C),w=n("TSYQ"),_=n.n(w),E=n("XqD+"),O=n("xkGD"),k=n("t1Ez"),j=n("+vdM"),x=n("a08m"),A=n("zt8I"),P=n("GCXI"),M=n("WN4I"),R=n("9WHe"),N=n("+KBN"),T=n("jgp3"),F=n("6JjY"),D=10,q=0;function z(e){var{numSuggestionsToShow:t=D,onSelectAddSchool:n,onSelectSchool:r,useAutoFocus:s}=e,{logEvent:o,logPageAction:a}=Object(O.b)(),i={loggers:{logEvent:o,logPageAction:a}},{t:l}=Object(h.a)(),[c,u]=Object(g.useState)(""),[d,m]=Object(g.useState)([]),S=Object(g.useRef)(null),b=Object(g.useCallback)(y()((e=>{var{value:n}=e;Object(E.d)("/webapi/3.4/schools/search",{params:{query:n,perPage:t}}).then((e=>{var{models:t,scores:n}=e.body.responses[0];f=I()(n,"id"),m(t.school),q=0})).catch((e=>R.a.error("Error retrieving schools.",e)))}),300,{trailing:!0}),[]),C=()=>{T.a.logSelectAddOwnSchool(i),n(c)},w={placeholder:l("global.school_autosuggest.input.placeholder"),autoFocus:s};return p.a.createElement("div",{className:"SchoolAutosuggest"},p.a.createElement(j.a,{getSuggestionValueForInput:e=>e.name,inputAttributes:w,inputValue:c,onInputChange:(e,t)=>{var{newValue:n}=t;u(n)},onSuggestionsClearRequested:()=>{m([])},onSuggestionSelected:(e,t)=>{T.a.logSelectSuggestion(M.a.events.HIT_SELECT_SCHOOL,t.suggestion.id,M.a.targetTypes.SCHOOL,t.suggestionIndex,i),r&&r(e,t)},onSuggestionsFetchRequested:b,ref:S,renderSuggestion:(e,t)=>{var{isHighlighted:n}=t;return p.a.createElement(F.a,{key:e.id,once:!0,onIntersect:()=>((e,t)=>{var n;T.a.logSearchImpression({modelId:e.id,modelType:P.L.SCHOOL,pageDepth:q++,pageNumber:1,relevanceScore:(n=e.id,f[n]&&f[n].score||0),purchasableType:P.X.FREE},t)})(e,i),threshold:.5},(()=>p.a.createElement("div",{className:"SchoolAutosuggest-suggestion"},p.a.createElement("span",{className:_()("SchoolAutosuggest-suggestedSchool",{"is-highlighted":n})},Object(N.a)(e,!0,l)))))},renderSuggestionsContainer:e=>{var t,{children:n,containerProps:r}=e,s="SchoolAutosuggest-suggestionsContainer "+r.className;return p.a.createElement("div",v()({},r,{className:s}),n,c.length>3&&null!=S&&null!=(t=S.current.autosuggest)&&t.state.isFocused?p.a.createElement("div",{className:"SchoolAutosuggest-fauxSuggestion"},p.a.createElement(A.a,null,p.a.createElement(x.a,{onClick:C},p.a.createElement(k.a,{id:"global.school_autosuggest.add_new_school_button"})))):null)},suggestions:d}))}var L,H=n("Pxp3"),U=n("bvRJ"),V=n("wcmh"),B=n("Ri2w");!function(e){e.icon="icon",e.text="text"}(L||(L={}));class G extends g.Component{constructor(){super(...arguments),this.state={isSelectingAnotherSchool:!1},this.handleClickSelectExistingSchools=()=>{this.props.onClickSelectExistingSchoolPrompt(),this.setState({isSelectingAnotherSchool:!1})},this.handleClickSelectAnotherSchoolPrompt=()=>{this.props.onClickSelectAnotherSchoolPrompt(),this.setState({isSelectingAnotherSchool:!0})},this.handleSchoolSelected=(e,t)=>{var{suggestion:n}=t;this.props.onSelectAnotherSchool(n),this.setState({isSelectingAnotherSchool:!1})},this.handleRemoveSchool=e=>{this.props.overrideSchoolRemoval?this.props.overrideSchoolRemoval():Object(B.d)("/schools/unassociate",{schoolId:e.id}).then((t=>{null!=t&&t.success&&this.props.onRemoveSchool(e)}))}}renderSchoolLabel(e){return p.a.createElement("span",{className:"SchoolSelector-listLabel"},Object(N.a)(e)," ",p.a.createElement(x.a,{onClick:this.handleRemoveSchool.bind(this,e)},this.props.removeVariant===L.text?p.a.createElement(k.a,{id:"global.school_selector.remove_school"}):p.a.createElement(U.a,{icon:"x",size:"small"})))}renderOneMainSchool(){var e=this.props.schools.first();return p.a.createElement(H.a,{className:"SchoolSelector-schoolOptions"},this.renderSchoolLabel(e),p.a.createElement("span",{className:"UIInput-border"}))}renderMultipleSchoolOptions(){var e=this.props.schools.map((e=>p.a.createElement(V.a,{checked:e.id===this.props.selectedSchoolId,key:e.id,label:this.renderSchoolLabel(e),onChange:this.props.onChangeSelectedSchool.bind(this,e)})));return p.a.createElement(H.a,{className:"SchoolSelector-schoolOptions"},e.valueSeq().toArray(),this.renderSelectAnotherSchoolPrompt())}renderSchoolOptions(){return this.props.showOnlyOneMainSchool?this.renderOneMainSchool():this.renderMultipleSchoolOptions()}renderSchoolSearch(){return p.a.createElement(H.a,{className:"SchoolSelector-schoolSearch"},p.a.createElement(H.a,null,p.a.createElement(z,{numSuggestionsToShow:5,onSelectAddSchool:this.props.onSelectAddSchool,onSelectSchool:this.handleSchoolSelected,useAutoFocus:!this.isSchoolsEmpty()})),this.isSchoolsEmpty()?null:this.renderSelectExistingSchoolsPrompt())}renderAddNewSchool(){return p.a.createElement(H.a,{className:"SchoolSelector-schoolCreate"},this.props.newSchool?p.a.createElement(H.a,null,p.a.createElement(m,{onUpdateCity:e=>this.props.onUpdateNewSchoolField("city",e.target.value),onUpdateCountryCode:e=>this.props.onUpdateNewSchoolField("countryCode",e.target.value),onUpdateName:e=>this.props.onUpdateNewSchoolField("name",e.target.value),onUpdateState:e=>this.props.onUpdateNewSchoolField("state",e.target.value),school:this.props.newSchool,validationErrors:this.props.validationErrors})):null,this.isSchoolsEmpty()?this.renderSelectAnotherSchoolPrompt():this.renderSelectExistingSchoolsPrompt())}renderSelectExistingSchoolsPrompt(){return p.a.createElement(H.a,null,p.a.createElement(x.a,{onClick:this.handleClickSelectExistingSchools},p.a.createElement(k.a,{id:"global.school_selector.select_existing_school_prompt"})))}renderSelectAnotherSchoolPrompt(){return p.a.createElement(x.a,{onClick:this.handleClickSelectAnotherSchoolPrompt},p.a.createElement(k.a,{id:"global.school_selector.select_another_school_prompt"}))}render(){return p.a.createElement("div",{className:"SchoolSelector"},this.props.isAddingNewSchool&&this.renderAddNewSchool(),this.shouldShowSchoolSearch()&&this.renderSchoolSearch(),this.shouldShowSchoolOptions()&&this.renderSchoolOptions())}isSchoolsEmpty(){return 0===this.props.schools.size}shouldShowSchoolSearch(){return!this.props.isAddingNewSchool&&(this.isSchoolsEmpty()||this.state.isSelectingAnotherSchool)}shouldShowSchoolOptions(){return!this.shouldShowSchoolSearch()&&!this.props.isAddingNewSchool}}G.defaultProps={removeVariant:L.text,showOnlyOneMainSchool:!1}},YswG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("9WHe");function s(e,t){switch(e){case"ad":return t("countries.ad");case"ae":return t("countries.ae");case"af":return t("countries.af");case"ag":return t("countries.ag");case"ai":return t("countries.ai");case"al":return t("countries.al");case"am":return t("countries.am");case"an":return t("countries.an");case"ao":return t("countries.ao");case"aq":return t("countries.aq");case"ar":return t("countries.ar");case"as":return t("countries.as");case"at":return t("countries.at");case"au":return t("countries.au");case"aw":return t("countries.aw");case"ax":return t("countries.ax");case"az":return t("countries.az");case"ba":return t("countries.ba");case"bb":return t("countries.bb");case"bd":return t("countries.bd");case"be":return t("countries.be");case"bf":return t("countries.bf");case"bg":return t("countries.bg");case"bh":return t("countries.bh");case"bi":return t("countries.bi");case"bj":return t("countries.bj");case"bl":return t("countries.bl");case"bm":return t("countries.bm");case"bn":return t("countries.bn");case"bo":return t("countries.bo");case"bq":return t("countries.bq");case"br":return t("countries.br");case"bs":return t("countries.bs");case"bt":return t("countries.bt");case"bv":return t("countries.bv");case"bw":return t("countries.bw");case"by":return t("countries.by");case"bz":return t("countries.bz");case"ca":return t("countries.ca");case"cc":return t("countries.cc");case"cd":return t("countries.cd");case"cf":return t("countries.cf");case"cg":return t("countries.cg");case"ch":return t("countries.ch");case"ci":return t("countries.ci");case"ck":return t("countries.ck");case"cl":return t("countries.cl");case"cm":return t("countries.cm");case"cn":return t("countries.cn");case"co":return t("countries.co");case"cr":return t("countries.cr");case"cs":return t("countries.cs");case"cu":return t("countries.cu");case"cv":return t("countries.cv");case"cw":return t("countries.cw");case"cx":return t("countries.cx");case"cy":return t("countries.cy");case"cz":return t("countries.cz");case"de":return t("countries.de");case"dj":return t("countries.dj");case"dk":return t("countries.dk");case"dm":return t("countries.dm");case"do":return t("countries.do");case"dz":return t("countries.dz");case"ec":return t("countries.ec");case"ee":return t("countries.ee");case"eg":return t("countries.eg");case"eh":return t("countries.eh");case"er":return t("countries.er");case"es":return t("countries.es");case"et":return t("countries.et");case"fi":return t("countries.fi");case"fj":return t("countries.fj");case"fk":return t("countries.fk");case"fm":return t("countries.fm");case"fo":return t("countries.fo");case"fr":return t("countries.fr");case"ga":return t("countries.ga");case"gb":return t("countries.gb");case"gd":return t("countries.gd");case"ge":return t("countries.ge");case"gf":return t("countries.gf");case"gg":return t("countries.gg");case"gh":return t("countries.gh");case"gi":return t("countries.gi");case"gl":return t("countries.gl");case"gm":return t("countries.gm");case"gn":return t("countries.gn");case"gp":return t("countries.gp");case"gq":return t("countries.gq");case"gr":return t("countries.gr");case"gs":return t("countries.gs");case"gt":return t("countries.gt");case"gu":return t("countries.gu");case"gw":return t("countries.gw");case"gy":return t("countries.gy");case"hk":return t("countries.hk");case"hm":return t("countries.hm");case"hn":return t("countries.hn");case"hr":return t("countries.hr");case"ht":return t("countries.ht");case"hu":return t("countries.hu");case"id":return t("countries.id");case"ie":return t("countries.ie");case"il":return t("countries.il");case"im":return t("countries.im");case"in":return t("countries.in");case"io":return t("countries.io");case"iq":return t("countries.iq");case"ir":return t("countries.ir");case"is":return t("countries.is");case"it":return t("countries.it");case"je":return t("countries.je");case"jm":return t("countries.jm");case"jo":return t("countries.jo");case"jp":return t("countries.jp");case"ke":return t("countries.ke");case"kg":return t("countries.kg");case"kh":return t("countries.kh");case"ki":return t("countries.ki");case"km":return t("countries.km");case"kn":return t("countries.kn");case"kp":return t("countries.kp");case"kr":return t("countries.kr");case"kw":return t("countries.kw");case"ky":return t("countries.ky");case"kz":return t("countries.kz");case"la":return t("countries.la");case"lb":return t("countries.lb");case"lc":return t("countries.lc");case"li":return t("countries.li");case"lk":return t("countries.lk");case"lr":return t("countries.lr");case"ls":return t("countries.ls");case"lt":return t("countries.lt");case"lu":return t("countries.lu");case"lv":return t("countries.lv");case"ly":return t("countries.ly");case"ma":return t("countries.ma");case"mc":return t("countries.mc");case"md":return t("countries.md");case"me":return t("countries.me");case"mf":return t("countries.mf");case"mg":return t("countries.mg");case"mh":return t("countries.mh");case"mk":return t("countries.mk");case"ml":return t("countries.ml");case"mm":return t("countries.mm");case"mn":return t("countries.mn");case"mo":return t("countries.mo");case"mp":return t("countries.mp");case"mq":return t("countries.mq");case"mr":return t("countries.mr");case"ms":return t("countries.ms");case"mt":return t("countries.mt");case"mu":return t("countries.mu");case"mv":return t("countries.mv");case"mw":return t("countries.mw");case"mx":return t("countries.mx");case"my":return t("countries.my");case"mz":return t("countries.mz");case"na":return t("countries.na");case"nc":return t("countries.nc");case"ne":return t("countries.ne");case"nf":return t("countries.nf");case"ng":return t("countries.ng");case"ni":return t("countries.ni");case"nl":return t("countries.nl");case"no":return t("countries.no");case"np":return t("countries.np");case"nr":return t("countries.nr");case"nu":return t("countries.nu");case"nz":return t("countries.nz");case"om":return t("countries.om");case"pa":return t("countries.pa");case"pe":return t("countries.pe");case"pf":return t("countries.pf");case"pg":return t("countries.pg");case"ph":return t("countries.ph");case"pk":return t("countries.pk");case"pl":return t("countries.pl");case"pm":return t("countries.pm");case"pn":return t("countries.pn");case"pr":return t("countries.pr");case"ps":return t("countries.ps");case"pt":return t("countries.pt");case"pw":return t("countries.pw");case"py":return t("countries.py");case"qa":return t("countries.qa");case"re":return t("countries.re");case"ro":return t("countries.ro");case"rs":return t("countries.rs");case"ru":return t("countries.ru");case"rw":return t("countries.rw");case"sa":return t("countries.sa");case"sb":return t("countries.sb");case"sc":return t("countries.sc");case"sd":return t("countries.sd");case"se":return t("countries.se");case"sg":return t("countries.sg");case"sh":return t("countries.sh");case"si":return t("countries.si");case"sj":return t("countries.sj");case"sk":return t("countries.sk");case"sl":return t("countries.sl");case"sm":return t("countries.sm");case"sn":return t("countries.sn");case"so":return t("countries.so");case"sr":return t("countries.sr");case"ss":return t("countries.ss");case"st":return t("countries.st");case"sv":return t("countries.sv");case"sx":return t("countries.sx");case"sy":return t("countries.sy");case"sz":return t("countries.sz");case"tc":return t("countries.tc");case"td":return t("countries.td");case"tf":return t("countries.tf");case"tg":return t("countries.tg");case"th":return t("countries.th");case"tj":return t("countries.tj");case"tk":return t("countries.tk");case"tl":return t("countries.tl");case"tm":return t("countries.tm");case"tn":return t("countries.tn");case"to":return t("countries.to");case"tr":return t("countries.tr");case"tt":return t("countries.tt");case"tv":return t("countries.tv");case"tw":return t("countries.tw");case"tz":return t("countries.tz");case"ua":return t("countries.ua");case"ug":return t("countries.ug");case"um":return t("countries.um");case"us":return t("countries.us");case"uy":return t("countries.uy");case"uz":return t("countries.uz");case"va":return t("countries.va");case"vc":return t("countries.vc");case"ve":return t("countries.ve");case"vg":return t("countries.vg");case"vi":return t("countries.vi");case"vn":return t("countries.vn");case"vu":return t("countries.vu");case"wf":return t("countries.wf");case"ws":return t("countries.ws");case"xk":return t("countries.xk");case"ye":return t("countries.ye");case"yt":return t("countries.yt");case"za":return t("countries.za");case"zm":return t("countries.zm");case"zw":return t("countries.zw");default:return r.a.error("Invalid country in getLocalizedCountry()",{country:e}),e}}},cRPI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(s)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),i=g(a),l=g(n("17x9")),c=g(n("A69X")),u=g(n("3JpL")),d=g(n("nEw6")),h=g(n("k7+M"));function g(e){return e&&e.__esModule?e:{default:e}}var p={},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){return null===t?null:"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,r=t.inputProps,o=t.highlightedSectionIndex,a=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var i="ArrowDown"===e.key?"next":"prev",l=n.sectionIterator[i]([o,a]),c=s(l,2),u=c[0],d=c[1];r.onKeyDown(e,{newHighlightedSectionIndex:u,newHighlightedItemIndex:d});break;default:r.onKeyDown(e,{highlightedSectionIndex:o,highlightedItemIndex:a})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map((function(t){return e.getSectionItems(t)})),this.sectionsLengths=this.sectionsItems.map((function(e){return e.length})),this.allSectionsAreEmpty=this.sectionsLengths.every((function(e){return 0===e})))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,c.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,u.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,r=n.id,s=n.items,o=n.renderItem,a=n.renderItemData,l=n.renderSectionTitle,c=n.highlightedSectionIndex,u=n.highlightedItemIndex,g=n.itemProps;return s.map((function(n,s){var p="react-autowhatever-"+r+"-",m=p+"section-"+s+"-",f=0===s;return i.default.createElement("div",t(m+"container","sectionContainer",f&&"sectionContainerFirst"),i.default.createElement(d.default,{section:n,renderSectionTitle:l,theme:t,sectionKeyPrefix:m}),i.default.createElement(h.default,{items:e.sectionsItems[s],itemProps:g,renderItem:o,renderItemData:a,sectionIndex:s,highlightedItemIndex:c===s?u:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:p,ref:e.storeItemsListReference}))}))}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,r=n.id,s=n.renderItem,o=n.renderItemData,a=n.highlightedSectionIndex,l=n.highlightedItemIndex,c=n.itemProps;return i.default.createElement(h.default,{items:e,itemProps:c,renderItem:s,renderItemData:o,highlightedItemIndex:null===a?l:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+r+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,r=t.scrollTop;n<r?r=n:n+e.offsetHeight>r+t.offsetHeight&&(r=n+e.offsetHeight-t.offsetHeight),r!==t.scrollTop&&(t.scrollTop=r)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,s=t.multiSection,o=t.renderInputComponent,a=t.renderItemsContainer,l=t.highlightedSectionIndex,c=t.highlightedItemIndex,u=this.state.isInputFocused,d=s?this.renderSections():this.renderItems(),h=null!==d,g=this.getItemId(l,c),p="react-autowhatever-"+n,m=r({role:"combobox","aria-haspopup":"listbox","aria-owns":p,"aria-expanded":h},e("react-autowhatever-"+n+"-container","container",h&&"containerOpen"),this.props.containerProps),f=o(r({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":p,"aria-activedescendant":g},e("react-autowhatever-"+n+"-input","input",h&&"inputOpen",u&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),S=a({containerProps:r({id:p,role:"listbox"},e("react-autowhatever-"+n+"-items-container","itemsContainer",h&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:d});return i.default.createElement("div",m,f,S)}}]),t}(a.Component);m.propTypes={id:l.default.string,multiSection:l.default.bool,renderInputComponent:l.default.func,renderItemsContainer:l.default.func,items:l.default.array.isRequired,renderItem:l.default.func,renderItemData:l.default.object,renderSectionTitle:l.default.func,getSectionItems:l.default.func,containerProps:l.default.object,inputProps:l.default.object,itemProps:l.default.oneOfType([l.default.object,l.default.func]),highlightedSectionIndex:l.default.number,highlightedItemIndex:l.default.number,theme:l.default.oneOfType([l.default.object,l.default.array])},m.defaultProps={id:"1",multiSection:!1,renderInputComponent:function(e){return i.default.createElement("input",e)},renderItemsContainer:function(e){var t=e.containerProps,n=e.children;return i.default.createElement("div",t,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:p,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:p,inputProps:p,itemProps:p,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}},t.default=m},gz6s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!0;var a={},i=void 0,l=void 0;for(i=0,l=n.length;i<l;i++)a[n[i]]=!0;for(i=0,l=s.length;i<l;i++){var c=s[i],u=e[c],d=t[c];if(u!==d){if(!a[c]||null===u||null===d||"object"!==(void 0===u?"undefined":r(u))||"object"!==(void 0===d?"undefined":r(d)))return!0;var h=Object.keys(u),g=Object.keys(d);if(h.length!==g.length)return!0;for(var p=0,m=h.length;p<m;p++){var f=h[p];if(u[f]!==d[f])return!0}}}return!1}},iVub:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=c(o),i=c(n("17x9")),l=c(n("gz6s"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;u(this,t);for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.storeItemReference=function(e){null!==e&&(r.item=e)},r.onMouseEnter=function(e){var t=r.props,n=t.sectionIndex,s=t.itemIndex;r.props.onMouseEnter(e,{sectionIndex:n,itemIndex:s})},r.onMouseLeave=function(e){var t=r.props,n=t.sectionIndex,s=t.itemIndex;r.props.onMouseLeave(e,{sectionIndex:n,itemIndex:s})},r.onMouseDown=function(e){var t=r.props,n=t.sectionIndex,s=t.itemIndex;r.props.onMouseDown(e,{sectionIndex:n,itemIndex:s})},r.onClick=function(e){var t=r.props,n=t.sectionIndex,s=t.itemIndex;r.props.onClick(e,{sectionIndex:n,itemIndex:s})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return(0,l.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,s=e.renderItem,o=e.renderItemData,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isHighlighted","item","renderItem","renderItemData"]);return delete i.sectionIndex,delete i.itemIndex,"function"==typeof i.onMouseEnter&&(i.onMouseEnter=this.onMouseEnter),"function"==typeof i.onMouseLeave&&(i.onMouseLeave=this.onMouseLeave),"function"==typeof i.onMouseDown&&(i.onMouseDown=this.onMouseDown),"function"==typeof i.onClick&&(i.onClick=this.onClick),a.default.createElement("li",r({role:"option"},i,{ref:this.storeItemReference}),s(n,r({isHighlighted:t},o)))}}]),t}(o.Component);h.propTypes={sectionIndex:i.default.number,isHighlighted:i.default.bool.isRequired,itemIndex:i.default.number.isRequired,item:i.default.any.isRequired,renderItem:i.default.func.isRequired,renderItemData:i.default.object.isRequired,onMouseEnter:i.default.func,onMouseLeave:i.default.func,onMouseDown:i.default.func,onClick:i.default.func},t.default=h},"j1+b":function(e,t,n){"use strict";n.r(t)},"k7+M":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=u(o),i=u(n("17x9")),l=u(n("iVub")),c=u(n("gz6s"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;d(this,t);for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.storeHighlightedItemReference=function(e){r.props.onHighlightedItemChange(null===e?null:e.item)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return(0,c.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,s=t.itemProps,o=t.renderItem,i=t.renderItemData,c=t.sectionIndex,u=t.highlightedItemIndex,d=t.getItemId,h=t.theme,g=t.keyPrefix,p=null===c?g:g+"section-"+c+"-",m="function"==typeof s;return a.default.createElement("ul",r({role:"listbox"},h(p+"items-list","itemsList")),n.map((function(t,n){var g=0===n,f=n===u,S=p+"item-"+n,v=m?s({sectionIndex:c,itemIndex:n}):s,b=r({id:d(c,n),"aria-selected":f},h(S,"item",g&&"itemFirst",f&&"itemHighlighted"),v);return f&&(b.ref=e.storeHighlightedItemReference),a.default.createElement(l.default,r({},b,{sectionIndex:c,isHighlighted:f,itemIndex:n,item:t,renderItem:o,renderItemData:i}))})))}}]),t}(o.Component);g.propTypes={items:i.default.array.isRequired,itemProps:i.default.oneOfType([i.default.object,i.default.func]),renderItem:i.default.func.isRequired,renderItemData:i.default.object.isRequired,sectionIndex:i.default.number,highlightedItemIndex:i.default.number,onHighlightedItemChange:i.default.func.isRequired,getItemId:i.default.func.isRequired,theme:i.default.func.isRequired,keyPrefix:i.default.string.isRequired},g.defaultProps={sectionIndex:null},t.default=g},nEw6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("q1tI"),o=l(s),a=l(n("17x9")),i=l(n("gz6s"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return(0,i.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,r=e.theme,s=e.sectionKeyPrefix,a=n(t);return a?o.default.createElement("div",r(s+"title","sectionTitle"),a):null}}]),t}(s.Component);d.propTypes={section:a.default.any.isRequired,renderSectionTitle:a.default.func.isRequired,theme:a.default.func.isRequired,sectionKeyPrefix:a.default.string.isRequired},t.default=d},o2l2:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Q}));var r=n("pVnL"),s=n.n(r),o=n("8OQS"),a=n.n(o),i=(n("zKZe"),n("5s+n"),n("4Brf"),n("4mDm"),n("3bBZ"),n("baRz")),l=n("6MTt"),c=n("FUR2"),u=n("7wDT"),d=n("brLV"),h=n("qqKc"),g=n("h4KR"),p=n("TSYQ"),m=n.n(p),f=n("QzJr"),S=n("2CL2"),v=n("t1Ez"),b=n("JxFz"),y=n("Pxp3"),C=n("8DN3"),I=n("vlgG"),w=n("47yS"),_=n("dxfC"),E=n("mM5Q"),O=n("V0yB"),k=n("GCXI"),j=n("IU46"),x=n("LwoS"),A=n("nrsj"),P=n("JPcv"),M=n("5jMn"),R=n("+L51"),N=n("kOtm"),T=n("q1tI"),F=n.n(T),D=n("ZVsQ"),q=n("T3U7"),z=n("RrEx"),L=["actions"],H=Object(i.styled)("div")({name:"CreateClassModalBody",class:"c7f1ngg"}),U=Object(i.styled)("p")({name:"Subheading",class:"s1mff1xn"}),V=Object(i.styled)("div")({name:"FieldWrapper",class:"fvgyhe9"}),B=Object(i.styled)("div")({name:"CheckboxdWrapper",class:"ch31ehh"}),G=Object(i.styled)("div")({name:"FieldsContainer",class:"fka7kj1"}),K=Object(i.styled)("div")({name:"ButtonWrapper",class:"b1p7r6kc"}),W=Object(i.styled)("div")({name:"ErrorWrapper",class:"e6rk5nw"});class Q extends T.Component{constructor(e){var t;super(e),t=this,this.getValidatedModel=e=>{if(e){if(e.isValid())return e.properties;var t=Object(z.a)(e.getValidationErrors(),"field");throw this.setState({validationErrors:Object.assign({},this.state.validationErrors,t)}),new x.a(Object(A.a)("set_page.create_class_modal.generic_validation_error"))}},this.getUIModalProps=()=>{var e=this.props,{actions:t}=e,n=a()(e,L);return Object.assign({onClose:t.onClose},n)},this.handleClickCreateClass=()=>{this.setState({isRequestingCreateClass:!0,validationErrors:{},genericErrors:[]});var e=null;if(this.state.isAddingNewSchool){e=new N.a(this.getSchoolData(this.state)).save().then(this.getValidatedModel).then(this.onCreateSchoolSuccess)}else{var t=this.state.schoolsMap.get(this.state.selectedSchoolId);e=new Promise(((e,n)=>{t?e(t):n(new x.a(Object(A.a)("classes.validation.school_required")))}))}e.then((e=>{var t;return this.props.class?(t=new M.a({id:this.props.class.id})).setAll(this.getClassData(this.state,e.id)):t=new M.a(this.getClassData(this.state,e.id)),t.save()})).then(this.getValidatedModel).then((e=>{if(e)return this.props.setToAdd?new R.a({classId:e.id,setId:this.props.setToAdd.id}).save():this.onCreateClassSuccess(e.id)})).then(this.getValidatedModel).then((e=>{e&&this.onCreateClassSuccess(e.classId)})).catch((e=>{if(e instanceof x.a&&this.addGenericError(e.message),e instanceof j.a){var{user:t}=this.props;this.state.isAddingNewSchool&&!t._isUnderAge?this.addGenericError(Object(A.a)("classes.validation.exceed_number_of_school_creation")):this.addGenericError(e.message)}this.setState({isRequestingCreateClass:!1})}))},this.handleClickSelectAnotherSchoolPrompt=()=>{this.setState({isAddingNewSchool:!1})},this.handleClickSelectExistingSchoolPrompt=()=>{this.setState((e=>({isAddingNewSchool:!1,selectedSchoolId:e.selectedSchoolId})))},this.handleChangeSelectedSchool=e=>{this.setState({selectedSchoolId:e.id})},this.handleRemoveSchool=e=>{var t=e.id===this.state.selectedSchoolId?null:this.state.selectedSchoolId;this.setState({selectedSchoolId:t,schoolsMap:this.state.schoolsMap.delete(e.id)})},this.handleSelectAnotherSchool=e=>{this.setState((t=>({schoolsMap:t.schoolsMap.set(e.id,e),selectedSchoolId:e.id})))},this.handleAddNewSchool=function(e){void 0===e&&(e=""),t.setState({isAddingNewSchool:!0,newSchool:t.initializeNewSchool({name:e})})},this.handleUpdateNewSchoolField=(e,t)=>{this.setState((n=>({newSchool:Object.assign({},n.newSchool,{[e]:t})})))},this.onCreateSchoolSuccess=e=>(this.setState({newSchool:null,isAddingNewSchool:!1,schoolsMap:this.state.schoolsMap.set(e.id,e),selectedSchoolId:e.id}),e),this.state=Object.assign({},this.getInitState(e))}componentDidMount(){this.props.isTriggeredFromTeacherOnboarding&&Object(q.a)("new_teacher_class_modal_open")}UNSAFE_componentWillReceiveProps(e){this.props.class&&e.class&&this.props.class.id!==e.class.id&&this.setState(this.getInitState(e))}getInitState(e){var t,n,r,s,o,a,i=e.schools?Object(D.a)(e.schools,(e=>e.id)):Object(P.OrderedMap)();e.class&&e.mainSchool&&(i=Object(P.OrderedMap)().set(null==(a=e.mainSchool)?void 0:a.id,e.mainSchool));return{className:this.getInitClassName(null==(t=e.class)?void 0:t.title),classDescription:e.class?e.class.description:"",membersCanInvite:null==(n=null==(r=e.class)?void 0:r.membersCanInvite)||n,membersCanPost:null==(s=null==(o=e.class)?void 0:o.membersCanPost)||s,isAddingNewSchool:!1,isRequestingCreateClass:!1,newSchool:null,schoolsMap:i,selectedSchoolId:e.mainSchool?e.mainSchool.id:null,genericErrors:[],validationErrors:{}}}getInitClassName(e){return e||(this.props.isTriggeredFromTeacherOnboarding?Object(A.a)("global.teacher_onboarding.dummy_class.class_title",{username:this.props.user.username}):"")}getCreateButtonContent(){return this.props.class?this.state.isRequestingCreateClass?F.a.createElement(w.a,null):F.a.createElement(v.a,{id:"set_page.create_class_modal.save_button"}):this.state.isRequestingCreateClass?F.a.createElement(w.a,null):F.a.createElement(v.a,{id:"set_page.create_class_modal.create_button"})}getCreateButtonText(){return this.state.isRequestingCreateClass?Object(A.a)("create_set.header.saving"):this.props.class?Object(A.a)("set_page.create_class_modal.save_button"):Object(A.a)("set_page.create_class_modal.create_button")}getBody(){return this.props.isTriggeredFromTeacherOnboarding?F.a.createElement("div",{className:"CreateClassModal-body"},F.a.createElement(v.a,{id:"set_page.create_class_modal.teacher_onboarding_experiment.body"})):null}getSchoolData(e){return{name:e.newSchool.name,city:e.newSchool.city,state:e.newSchool.state,countryCode:e.newSchool.countryCode}}getClassData(e,t){return{title:e.className,description:e.classDescription,members_can_invite:e.membersCanInvite,members_can_post:e.membersCanPost,schoolId:t}}getClassFieldValidationError(e){return this.isClassFieldInvalid(e)?this.state.validationErrors[e]:null}getTitle(){return this.props.isTriggeredFromTeacherOnboarding?Object(A.a)("set_page.create_class_modal.teacher_onboarding_experiment.title"):this.props.class?Object(A.a)("set_page.create_class_modal.title_edit"):Object(A.a)("set_page.create_class_modal.title")}onCreateClassSuccess(e){var t;this.props.class||Object(q.a)("create_class");var n,r="";this.props.shouldRedirectToClassProgressTab&&(r=null===this.props.setToAdd?"/progress":"/progress/"+(null==(n=this.props.setToAdd)?void 0:n.id)+"/activity");this.props.isTriggeredFromTeacherOnboarding&&Object(q.a)("new_teacher_create_class"),null!=(t=this.props.actions)&&t.onClassSaved&&this.props.actions.onClassSaved(),window.location.href="/class/"+e+r}renderSchoolSelector(){return F.a.createElement(f.b,{isAddingNewSchool:this.state.isAddingNewSchool,newSchool:this.state.newSchool,onChangeSelectedSchool:this.handleChangeSelectedSchool,onClickSelectAnotherSchoolPrompt:this.handleClickSelectAnotherSchoolPrompt,onClickSelectExistingSchoolPrompt:this.handleClickSelectExistingSchoolPrompt,onRemoveSchool:this.handleRemoveSchool,onSelectAddSchool:this.handleAddNewSchool,onSelectAnotherSchool:this.handleSelectAnotherSchool,onUpdateNewSchoolField:this.handleUpdateNewSchoolField,schools:this.state.schoolsMap,selectedSchoolId:this.state.selectedSchoolId,validationErrors:this.state.validationErrors})}renderSchoolSelectorWithAssembly(){return F.a.createElement(S.b,{isAddingNewSchool:this.state.isAddingNewSchool,label:Object(A.a)("set_page.create_class_modal.fields.school_name"),newSchool:this.state.newSchool,onClickSelectAnotherSchoolPrompt:this.handleClickSelectAnotherSchoolPrompt,onClickSelectExistingSchoolPrompt:this.handleClickSelectExistingSchoolPrompt,onRemoveSchool:this.handleRemoveSchool,onSelectAddSchool:this.handleAddNewSchool,onSelectAnotherSchool:this.handleSelectAnotherSchool,onUpdateNewSchoolField:this.handleUpdateNewSchoolField,removeVariant:S.a.icon,schools:this.state.schoolsMap,validationErrors:this.state.validationErrors})}renderGenericErrors(){return this.state.genericErrors?this.state.genericErrors.map(((e,t)=>F.a.createElement(W,{key:t},F.a.createElement(d.b,{variant:d.a.ERROR},e)))):null}renderAssemblyModal(){return F.a.createElement(g.a,{body:F.a.createElement(H,null,F.a.createElement(U,null,Object(A.a)("set_page.create_class_modal.subheading")),F.a.createElement(G,null,F.a.createElement(V,null,F.a.createElement(u.a,{autoFocus:!0,id:"CreateClassModal-class-name",label:this.getClassFieldValidationError("className")||Object(A.a)("set_page.create_class_modal.fields.title.label"),onChange:e=>this.setState({className:e.target.value}),type:"text",value:this.state.className})),F.a.createElement(V,null,this.renderSchoolSelectorWithAssembly()),F.a.createElement(V,null,F.a.createElement(u.a,{autoFocus:!1,id:"CreateClassModal-class-description",label:this.getClassFieldValidationError("description")||Object(A.a)("set_page.create_class_modal.fields.description_optional"),onChange:e=>this.setState({classDescription:e.target.value}),type:"text",value:this.state.classDescription})),F.a.createElement(B,null,F.a.createElement(c.a,{checked:this.state.membersCanPost,label:Object(A.a)("set_page.create_class_modal.fields.members_can_post"),onChange:e=>this.setState({membersCanPost:e.target.checked})}),F.a.createElement(c.a,{checked:this.state.membersCanInvite,label:Object(A.a)("set_page.create_class_modal.fields.members_can_invite"),onChange:e=>this.setState({membersCanInvite:e.target.checked})}))),F.a.createElement(K,null,F.a.createElement(h.b,{disabled:this.state.isRequestingCreateClass,onClick:this.handleClickCreateClass,size:"large",text:this.getCreateButtonText(),type:"button"})),this.renderGenericErrors()),isOpen:this.props.isOpen,justifyCenter:!1,onClose:this.props.actions.onClose,title:this.getTitle()})}render(){var e;if(!this.props.isTriggeredFromTeacherOnboarding&&"experiment"===l.b.getVariationAndEnroll("TeacherClassCreationModal[default,growth]"))return this.renderAssemblyModal();var t,n,r=m()("CreateClassModal-main",{"is-teacherCreateClassModalExperiment":this.props.isTriggeredFromTeacherOnboarding});return this.props.isTriggeredFromTeacherOnboarding?(t=Object(A.a)("set_page.create_class_modal.teacher_onboarding_experiment.title"),n=F.a.createElement("div",{className:"CreateClassModal-body"},F.a.createElement(v.a,{id:"set_page.create_class_modal.teacher_onboarding_experiment.body"}))):t=this.props.class?Object(A.a)("set_page.create_class_modal.title_edit"):Object(A.a)("set_page.create_class_modal.title"),F.a.createElement(_.a,s()({},this.getUIModalProps(),{headerContent:t}),F.a.createElement("div",{className:r},n,F.a.createElement(C.a,null,F.a.createElement(I.a,{autoFocus:!0,id:"CreateClassModal-main-input",invalid:this.isClassFieldInvalid("title"),label:this.getClassFieldValidationError("title")||Object(A.a)("set_page.create_class_modal.fields.title.label"),onChange:e=>this.setState({className:e.target.value}),placeholder:Object(A.a)("set_page.create_class_modal.fields.title.placeholder"),value:this.state.className}),F.a.createElement(O.a,{id:"CreateClassModal-main-textarea",invalid:this.isClassFieldInvalid("description"),label:this.getClassFieldValidationError("description")||Object(A.a)("set_page.create_class_modal.fields.description.label"),onChange:e=>this.setState({classDescription:e.target.value}),placeholder:Object(A.a)("set_page.create_class_modal.fields.description.placeholder"),type:"autoExpand",value:this.state.classDescription})),F.a.createElement(C.a,null,F.a.createElement(E.a,null),F.a.createElement(c.a,{checked:this.state.membersCanPost,label:Object(A.a)("set_page.create_class_modal.fields.members_can_post"),onChange:e=>this.setState({membersCanPost:e.target.checked})}),F.a.createElement(c.a,{checked:this.state.membersCanInvite,label:Object(A.a)("set_page.create_class_modal.fields.members_can_invite"),onChange:e=>this.setState({membersCanInvite:e.target.checked})}),null!=(e=this.props.class)&&e.membersCanInvite&&!this.state.membersCanInvite?F.a.createElement("div",{className:"CreateClassModal-changingJoinLinkNotice"},F.a.createElement(v.a,{id:"set_page.create_class_modal.fields.public_posting_label"})):null,F.a.createElement(y.a,null),F.a.createElement(E.a,null)),F.a.createElement(C.a,{legend:Object(A.a)("set_page.create_class_modal.fields.schools.label")},this.renderSchoolSelector()),this.renderGenericErrors(),F.a.createElement(b.a,{disabled:this.state.isRequestingCreateClass,hero:!0,onClick:this.handleClickCreateClass,width:"fill"},this.getCreateButtonContent())))}addGenericError(e){this.setState({genericErrors:[...this.state.genericErrors,e]})}initializeNewSchool(e){var{name:t}=e;return{name:t,city:"",state:"",countryCode:"us"}}isSelfIdentifiedTeacher(e){return e.selfIdentifiedTeacherStatus===k.Eb.TEACHER}isClassFieldInvalid(e){if(e in this.state.validationErrors)return!0}}Q.defaultProps={shouldRedirectToClassProgressTab:!1},n("j1+b")},svsH:function(e,t,n){"use strict";e.exports=n("cRPI").default},wrOu:function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}}}]);